<!doctype html>
<html lang="it">
	<head>
		<meta charset="utf-8"/>
		<title>Monitoraggio Distributori Iperstaroil</title>
		<meta name="viewport" content="width=device-width, initial-scale=1"/>

		<!-- Bootstrap CSS -->
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"/>

		<!-- Leaflet CSS -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

		<style>
			#map { height: 75vh; border-radius: 0.5rem; }
			.card { margin-bottom: 1rem; }
		</style>
	</head>

	<body>
		<header class="bg-dark text-white p-3 mb-3">
			<div class="container">
				<h2 class="mb-0">Monitoraggio Distributori Iperstaroil</h2>
			</div>
		</header>

		<main class="container">
			<div class="row g-3">
				<div class="col-md-4">
					<div class="card p-3">
						<h5>Elenco distributori (tutti)</h5>
						<button id="btn-list-all" class="btn btn-primary btn-sm mb-2">Mostra elenco</button>
						<div id="list-all"></div>
					</div>

					<div class="card p-3">
						<h5>Ricerca per provincia</h5>
						<input id="prov-input" type="text" class="form-control form-control-sm mb-2" placeholder="Es. Milano"/>
						<button id="btn-prov" class="btn btn-primary btn-sm mb-2">Cerca</button>
						<div id="prov-result"></div>
					</div>

					<div class="card p-3">
						<h5>Ricerca per ID distributore</h5>
						<input id="id-input" type="number" min="1" class="form-control form-control-sm mb-2"/>
						<button id="btn-id" class="btn btn-primary btn-sm mb-2">Cerca</button>
						<div id="id-result"></div>
					</div>

					<div class="card p-3">
						<h5>Cambio prezzo per provincia</h5>
						<input id="prov-price" type="text" class="form-control form-control-sm mb-2" placeholder="Es. Milano"/>
						<select id="tipo-price" class="form-select form-select-sm mb-2">
							<option value="Benzina">Benzina</option>
							<option value="Diesel">Diesel</option>
						</select>
						<input id="new-price" type="number" step="0.01" class="form-control form-control-sm mb-2" placeholder="Nuovo prezzo (â‚¬)"/>
						<button id="btn-change-price" class="btn btn-primary btn-sm mb-2">Aggiorna prezzi</button>
						<div id="change-result"></div>
					</div>
				</div>

				<div class="col-md-8">
					<div class="card p-3">
						<h5>Mappa distributori</h5>
						<div id="map"></div>
					</div>
				</div>
			</div>
		</main>

		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
		<script src="{{ url_for('static', filename='js/script.js') }}"></script>
	</body>
</html>
